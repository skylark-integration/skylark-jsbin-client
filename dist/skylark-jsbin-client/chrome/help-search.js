/**
 * skylark-jsbin-client - A version of jsbin-editor  that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-jsbin-client/
 * @license MIT
 */
define(["skylark-jquery","../jsbin"],function(e,t){"use strict";var n=e("#results"),r=e("#result-count"),i=[],o=e("#helpsearch"),l=-1;function s(e,t){var i,o,l;i=e,o="a an and on in it of if for the i is i'm i'd it's or to me be not was do so at are what bin bins".split(" "),l=new RegExp("("+"ing ly lies s".split(" ").join("|")+")$"),e=(i||"").replace(/(<([^>]+)>)/gi,"").replace(/\W/g," ").replace(/["'\.,]/g,"").toLowerCase().split(" ").filter(function(e){return-1===o.indexOf(e.trim())}).filter(function(e,t,n){return n.lastIndexOf(e)===t}).filter(function(e){return e.length>2}).map(function(e){return e.trim().replace(l,"")}).sort();var s=t.map(function(t){var n=e.filter(function(e){return-1!==t.words.indexOf(e)}).length;return{type:t.type,title:t.title,slug:t.slug,category:t.category,matches:n}}).filter(function(e){return e.matches>0}).sort(function(e,t){return t.matches-e.matches});n.html(s.map(function(e){return'<a target="_blank" class="button" href="/'+e.slug+'">'+e.title+("blog"===e.type?" (blog)":"")+"</a>"}).join("\n")),n.show();var a="";1!==s.length&&(a="s"),r.html(s.length+" result"+a)}o.on("input",t.throttle(function(){0===i.length?e.ajax({url:"/help/search.json?"+(new Date).toString().split(" ").slice(0,4).join("-"),dataType:"json",cache:!0,success:function(e){i=e,s(this.value,i)}.bind(this)}):s(this.value,i),l=-1},200)),n.on("mousemove",function(){-1!==l&&(n.children().remove("highlight"),l=-1)}),o.on("keydown",function(e){var t=e.which;if(38===t||40===t){e.preventDefault();var r=1;38===t&&(r=-1),l+=r;var i=n.children(),o=i.length;i.removeClass("hover"),l<0?l=o-1:l>o-1&&(l=0),i.eq(l).addClass("hover")}else if(13===t){var s=n.find(".hover")[0];s&&window.open(s.href)}})});
//# sourceMappingURL=../sourcemaps/chrome/help-search.js.map
