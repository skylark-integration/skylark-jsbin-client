/**
 * skylark-jsbin-client - A version of jsbin-editor  that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-jsbin-client/
 * @license MIT
 */
define(["skylark-jquery","skylark-coder/editors/panels","../jsbin"],function(e,r){var i="open"in document.createElement("details"),n=e.browser.msie&&e.browser.version<9?'<div class="details"><div class="summary">warnings</div>':'<details><summary class="summary">warnings</summary></details>',s=e(n).appendTo(".panel.javascript").hide();s.find(".summary").click(function(){i||(e(this).nextAll().toggle(),s[0].open=!s[0].open),setTimeout(function(){$document.trigger("sizeeditors")},10)}),i||(s[0].open=!1),JSHINT._data=JSHINT.data,JSHINT.data=function(e){var r=JSHINT._data(),i=[];if(e&&r.errors){for(var n=0;n<r.errors.length;n++)null!==r.errors[n]&&r.errors[n].evidence?i.push(r.errors[n]):null!==r.errors[n]&&0===r.errors[n].reason.indexOf("Stopping")&&i.push("Fatal errors, unable to continue");return{errors:i}}return r.errors=[],r},s.delegate("li","click",function(){var e=JSHINT.data(!0).errors;if(e.length){var r=s.find("li").index(this);return e[r].reason&&(editors.javascript.editor.setSelection({line:e[r].line-1,ch:0},{line:e[r].line-1}),editors.javascript.editor.focus()),!1}});var t=function(){if(editors.javascript.visible){var n,t,a=(n=panels.named.javascript.editor.getCode(),t={eqnull:!0},e.extend(t,r.settings.jshintOptions||{}),!!JSHINT(n,t)||JSHINT.data()),o=JSHINT.data(!0),d="",l=s.is(":visible");if(!0===a&&l)s.hide(),$document.trigger("sizeeditors");else if(o.errors.length){var c=["<ol>"];d=o.errors;for(var u=0;u<d.length;u++)"string"==typeof d[u]?c.push(escapeHTML(d[u])):c.push("Line "+d[u].line+": "+escapeHTML(d[u].evidence)+" --- "+escapeHTML(d[u].reason));c=c.join("<li>")+"</ol>",s.find(".summary").text(1===o.errors.length?"1 warning":o.errors.length+" warnings"),s.find("ol").remove(),i||!1!==s[0].open||(c=e(c).hide()),s.append(c).show(),$document.trigger("sizeeditors")}}};!0!==r.settings.jshint&&void 0!==r.settings.jshint||(e(document).bind("codeChange",r.throttle(t,1e3)),e(document).bind("jsbinReady",t))});
//# sourceMappingURL=../sourcemaps/chrome/errors.js.map
