/**
 * skylark-jsbin-client - A version of jsbin-editor  that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-jsbin-client/
 * @license MIT
 */
define(["skylark-jquery","../jsbin"],function(e,t){e.fn.splitter=function(){var o=e(document),i=e('<div class="block"></div>'),s=e("body"),r=JSON.parse(store.localStorage.getItem("splitterSettings")||"[]");return this.each(function(){var n=e(this),l=(e(this),e.fn.splitter.guid++),p=n.parent(),c="x",d="x"===c?n.prevAll(":visible:first"):n.nextAll(":visible:first"),a=e('<div class="resize"></div>'),u=!1,f=(p.width(),p.offset()),g=(f.left,f.top),m={x:{currentPos:p.offset().left,multiplier:1,cssProp:"left",otherCssProp:"right",size:p.width(),sizeProp:"width",moveProp:"pageX",init:{top:0,bottom:0,width:t.mobile?44:8,"margin-left":t.mobile?"-22px":"-4px",height:"100%",left:"auto",right:"auto",opacity:0,position:"absolute",cursor:"ew-resize","border-left":"1px solid rgba(218, 218, 218, 0.5)","z-index":99999}},y:{currentPos:p.offset().top,multiplier:-1,size:p.height(),cssProp:"bottom",otherCssProp:"top",sizeProp:"height",moveProp:"pageY",init:{top:"auto",cursor:"ns-resize",bottom:"auto",height:8,width:"100%",left:0,right:0,opacity:0,position:"absolute",border:0,"z-index":99999}}},h=r[l]||{},v={down:{x:null,y:null},delta:{x:null,y:null},track:!1,timer:null};function b(e){"y"===c&&(e-=g);var t=e-m[c].currentPos,i=100/m[c].size*t,s=(e-h[c])*m[c].multiplier,p=d[m[c].sizeProp](),u=n[m[c].sizeProp]();if("y"===c&&(i=100-i),p<100&&s<0);else if(u<100&&s>0);else{n.css(m[c].cssProp,i+"%"),d.css(m[c].otherCssProp,100-i+"%");var f={};f[m[c].cssProp]=i+"%",a.css(f),h[c]=e,r[l]=h,store.localStorage.setItem("splitterSettings",JSON.stringify(r)),b.timer&&clearTimeout(b.timer),b.timer=setTimeout(function(){o.trigger("sizeeditors")},120)}}function P(){d="x"===c?a.prevAll(":visible:first"):a.nextAll(":visible:first")}a.bind("mousedown",function(e){v.down.x=e.pageX,v.down.y=e.pageY,v.delta={x:null,y:null},v.target=.25*a["x"==c?"height":"width"]()}),o.bind("mousemove",function(e){if(u){v.delta.x=v.down.x-e.pageX,v.delta.y=v.down.y-e.pageY,clearTimeout(v.timer),v.timer=setTimeout(function(){v.down.x=e.pageX,v.down.y=e.pageY},250);var t="x"==c?"y":"x";Math.abs(v.delta[t])>v.target&&(a.trigger("change",t,e[m[t].moveProp]),v.down.x=e.pageX,v.down.y=e.pageY)}}),o.bind("mouseup touchend",function(){u&&(u=!1,i.remove(),s.removeClass("dragging"))}).bind("mousemove touchmove",function(e){u&&b(e[m[c].moveProp]||e.originalEvent.touches[0][m[c].moveProp])}),i.bind("mousemove touchmove",function(e){u&&b(e[m[c].moveProp]||e.originalEvent.touches[0][m[c].moveProp])}),a.bind("mousedown touchstart",function(e){u=!0,s.append(i).addClass("dragging"),m[c].size=p[m[c].sizeProp](),m[c].currentPos=0,P(),e.preventDefault()}),a.bind("init",function(e,t){a.css(m[c].init),m[c].size=p[m[c].sizeProp](),P(),g=p.offset().top,i.css("cursor","x"==c?"ew-resize":"ns-resize"),"y"==c?(n.css("border-right",0),d.css("border-left",0),d.css("border-top","2px solid #ccc")):n.css("border-top",0),n.is(":hidden")?a.hide():(d.length?n.css("border-"+m[c].cssProp,"1px solid #ccc"):n.css("border-"+m[c].cssProp,"0"),b(void 0!==t?t:n.offset()[m[c].cssProp]))}),d.css("width","auto"),d.css("height","auto"),n.data("splitter",a),n.before(a)})},e.fn.splitter.guid=0});
//# sourceMappingURL=../sourcemaps/chrome/splitter.js.map
