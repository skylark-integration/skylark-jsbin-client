{"version":3,"sources":["chrome/settings.js"],"names":["define","$","jsbin","settings","save","callback","localStorage","setItem","JSON","stringify","ajax","url","type","dataType","data","_csrf","state","token","success","console","log","error","xhr","status","chrome"],"mappings":";;;;;;;AAAAA,QACE,iBACC,YACD,SAAUC,EAAEC,GAGZ,IAAIC,GACFC,KAAM,SAAUC,GACdC,aAAaC,QAAQ,WAAYC,KAAKC,UAAUP,EAAMC,WACjDE,IACHA,EAAW,cAGbJ,EAAES,MACAC,IAAK,kBACLC,KAAM,OACNC,SAAU,OACVC,MACEX,SAAUG,aAAaH,SACvBY,MAAOb,EAAMc,MAAMC,OAErBC,QAAS,WACHC,SAAWA,QAAQC,KACrBD,QAAQC,IAAI,kBAEdf,GAAS,IAEXgB,MAAO,SAAUC,EAAKC,GACpBlB,GAAS,QAMjB,OAAOH,EAAMsB,OAAOrB,SAAWA","file":"../../chrome/settings.js","sourcesContent":["define([\r\n  \"skylark-jquery\",\r\n   \"../jsbin\"\r\n],function ($,jsbin) {\r\n  /*global jsbin, $*/\r\n\r\n  var settings = {\r\n    save: function (callback) {\r\n      localStorage.setItem('settings', JSON.stringify(jsbin.settings));\r\n      if (!callback) {\r\n        callback = function () {};\r\n      }\r\n\r\n      $.ajax({\r\n        url: '/account/editor',\r\n        type: 'POST',\r\n        dataType: 'json',\r\n        data: {\r\n          settings: localStorage.settings,\r\n          _csrf: jsbin.state.token\r\n        },\r\n        success: function () {\r\n          if (console && console.log) {\r\n            console.log('settings saved');\r\n          }\r\n          callback(true);\r\n        },\r\n        error: function (xhr, status) {\r\n          callback(false);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return jsbin.chrome.settings = settings;\r\n});"]}