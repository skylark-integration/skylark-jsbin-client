{"version":3,"sources":["chrome/analytics.js"],"names":["define","$","jsbin","analytics","track","category","action","label","window","ga","experiment","type","universalEditor","value","library","infocard","embed","top","location","e","milestone","pathname","clone","delete","lock","openShare","saveTemplate","createNew","from","open","openFromAvatar","openMenu","closeMenu","selectMenu","item","share","download","showPanel","panelId","hidePanel","logout","register","success","undefined","ok","login","enableLiveJS","archiveView","visible","archive","url","unarchive","loadGist","id","layout","panelsVisible","panel","push","sort","join","run","publishVanity","runconsole","welcomePanelState","state","s","welcomePanelLink","on","this","text"],"mappings":"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","file":"../../chrome/analytics.js","sourcesContent":["define([\r\n  \"skylark-jquery\",\r\n   \"../jsbin\"\r\n],function ($,jsbin) {\r\n  var analytics =  {\r\n    track: function (category, action, label) { // , value\r\n      window.ga && ga('send', 'event', category, action, label);\r\n    },\r\n    experiment: function (type) {\r\n      analytics.track('experiment', type);\r\n    },\r\n    universalEditor: function (value) {\r\n      analytics.track('menu', 'universalEditor', value);\r\n    },\r\n    library: function (action, value) {\r\n      analytics.track('menu', action, 'library', value);\r\n    },\r\n    infocard: function (action, value) {\r\n      analytics.track('infocard', action, value);\r\n    },\r\n    embed: function () {\r\n      try {\r\n        analytics.track('state', 'embed', window.top.location);\r\n      } catch (e) {\r\n        analytics.track('state', 'embed');\r\n      }\r\n    },\r\n    milestone: function () {\r\n      analytics.track('bin', 'save', window.location.pathname);\r\n    },\r\n    clone: function () {\r\n      analytics.track('bin', 'clone', window.location.pathname);\r\n    },\r\n    'delete': function () {\r\n      analytics.track('bin', 'delete', window.location.pathname);\r\n    },\r\n    lock: function () {\r\n      analytics.track('bin', 'lock', window.location.pathname);\r\n    },\r\n    openShare: function () {\r\n      analytics.track('menu', 'open', 'share');\r\n    },\r\n    saveTemplate: function () {\r\n      analytics.track('menu', 'select', 'save-template');\r\n    },\r\n    createNew: function (from) {\r\n      analytics.track(from || 'menu', 'select', 'new');\r\n    },\r\n    open: function (from) {\r\n      analytics.track(from || 'menu', 'select', 'open');\r\n    },\r\n    openFromAvatar: function () {\r\n      analytics.track('menu', 'select', 'open via avatar');\r\n    },\r\n    openMenu: function (label) {\r\n      analytics.track('menu', 'open', label);\r\n    },\r\n    closeMenu: function (label) {\r\n      analytics.track('menu', 'close', label);\r\n    },\r\n    selectMenu: function (item) {\r\n      if (item) {\r\n        analytics.track('menu', 'select', item);\r\n      }\r\n    },\r\n    share: function (action, label) {\r\n      analytics.track('share', action, label);\r\n    },\r\n    download: function (from) {\r\n      analytics.track(from || 'menu', 'select', 'download');\r\n    },\r\n    showPanel: function (panelId) {\r\n      analytics.track('panel', 'show', panelId);\r\n    },\r\n    hidePanel: function (panelId) {\r\n      analytics.track('panel', 'hide', panelId);\r\n    },\r\n    logout: function () {\r\n      analytics.track('menu', 'select', 'logout');\r\n    },\r\n    register: function (success) {\r\n      if (success === undefined) {\r\n        analytics.track('menu', 'open', 'login');\r\n      } else {\r\n        analytics.track('user', 'register', ok ? 'success' : 'fail');\r\n      }\r\n    },\r\n    login: function (ok) {\r\n      if (ok === undefined) {\r\n        analytics.track('menu', 'open', 'login');\r\n      } else {\r\n        analytics.track('user', 'login', ok ? 'success' : 'fail');\r\n      }\r\n    },\r\n    enableLiveJS: function (ok) {\r\n      analytics.track('button', 'auto-run js', ok ? 'on' : 'off');\r\n    },\r\n    archiveView: function (visible) {\r\n      analytics.track('button', 'view archive', visible ? 'on' : 'off');\r\n    },\r\n    archive: function (url) {\r\n      analytics.track('button', 'archive', url);\r\n    },\r\n    unarchive: function (url) {\r\n      analytics.track('button', 'unarchive', url);\r\n    },\r\n    loadGist: function (id) {\r\n      analytics.track('state', 'load gist', id);\r\n    },\r\n    layout: function (panelsVisible) {\r\n      var layout = [], panel = '';\r\n\r\n      for (panel in panelsVisible) {\r\n        layout.push(panel.id);\r\n      }\r\n\r\n      analytics.track('layout', 'update', layout.sort().join(',') || 'none');\r\n    },\r\n    run: function (from) {\r\n      analytics.track(from || 'button', 'run with js');\r\n    },\r\n    publishVanity: function () {\r\n      analytics.track('bin', 'publish-vanity');\r\n    },\r\n    runconsole: function (from) {\r\n      analytics.track(from || 'button', 'run console');\r\n    },\r\n    welcomePanelState: function (state) {\r\n      var s = 'close';\r\n      if (state) {\r\n        s = 'open';\r\n      }\r\n      analytics.track('state', 'welcome-panel', s);\r\n    },\r\n    welcomePanelLink: function (url) {\r\n      analytics.track('welcome-panel-link', url);\r\n    }\r\n  };\r\n\r\n  // misses the asset upload one\r\n  $('a[data-pro=\"true\"]').on('click', function () {\r\n    analytics.track('try-pro', $(this).text());\r\n  });\r\n\r\n  return jsbin.analytics = analytics;\r\n});"]}