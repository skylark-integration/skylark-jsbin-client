{"version":3,"sources":["chrome/app.js"],"names":["define","$","jsbin","Gist","analytics","test","window","location","pathname","editors","loadGist","gist","replace","ready","$document","on","mobile","document","body","onscroll","scrollTop","scrollTo","CodeMirror","keyMap","cmd","browser","platform","embed"],"mappings":";;;;;;;AAAAA,QACE,iBACC,WACA,SACA,eACD,SAAUC,EAAEC,EAAMC,EAAKC,GA6BvB,GA3BI,WAAWC,KAAKC,OAAOC,SAASC,YAClCF,OAAOG,QAAUA,QACjBC,SAAW,WACTJ,OAAOK,KAAO,IAAIR,EAAKG,OAAOC,SAASC,SAASI,QAAQ,eAAgB,QAGtEH,QAAQI,MACVH,WAEAI,UAAUC,GAAG,aAAcL,WAK1BR,EAAMc,SACTC,SAASC,KAAKC,SAAWb,OAAOa,SAAW,WAIzC,OAHgC,IAA5BF,SAASC,KAAKE,WAChBd,OAAOe,SAAS,EAAE,IAEb,IAIXf,OAAOgB,WAAaA,WAIhBA,WAAWC,QAAUD,WAAWC,OAAgB,QAAG,CACrD,IAAIC,EAA6B,QAAvBvB,EAAEwB,QAAQC,SAAqB,MAAQ,cAC1CJ,WAAWC,OAAgB,QAAEC,EAAM,aACnCF,WAAWC,OAAgB,QAAEC,EAAM,aACnCF,WAAWC,OAAgB,QAAEC,EAAM,aACnCF,WAAWC,OAAgB,QAAEC,EAAM,aACnCF,WAAWC,OAAgB,QAAEC,EAAM,MASxCtB,EAAMyB,OACRvB,EAAUuB","file":"../../chrome/app.js","sourcesContent":["define([\r\n  \"skylark-jquery\",\r\n   \"../jsbin\",\r\n   \"./gist\",\r\n   \"./analytics\"\r\n],function ($,jsbin,Gist,analytics) {\r\n  // if a gist has been requested, lazy load the gist library and plug it in\r\n  if (/gist\\/.*/.test(window.location.pathname)) {\r\n    window.editors = editors; // needs to be global when the callback triggers to set the content\r\n    loadGist = function () {\r\n      window.gist = new Gist(window.location.pathname.replace(/.*\\/([^/]+)$/, \"$1\"));\r\n    };\r\n\r\n    if (editors.ready) {\r\n      loadGist();\r\n    } else {\r\n      $document.on('jsbinReady', loadGist);\r\n    }\r\n  }\r\n\r\n  // prevent the app from accidently getting scrolled out of view\r\n  if (!jsbin.mobile) {\r\n    document.body.onscroll = window.onscroll = function () {\r\n      if (document.body.scrollTop !== 0) {\r\n        window.scrollTo(0,0);\r\n      }\r\n      return false;\r\n    };\r\n  }\r\n\r\n  window.CodeMirror = CodeMirror; // fix to allow code mirror to break naturally\r\n\r\n  // These are keys that CodeMirror (and Emmet) should never take over\r\n  // ref: https://gist.github.com/rodneyrehm/5213304\r\n  if (CodeMirror.keyMap && CodeMirror.keyMap['default']) {\r\n    var cmd = $.browser.platform === 'mac' ? 'Cmd' : 'Ctrl';\r\n    delete CodeMirror.keyMap['default'][cmd + '-L'];\r\n    delete CodeMirror.keyMap['default'][cmd + '-T'];\r\n    delete CodeMirror.keyMap['default'][cmd + '-W'];\r\n    delete CodeMirror.keyMap['default'][cmd + '-J'];\r\n    delete CodeMirror.keyMap['default'][cmd + '-R'];\r\n  }\r\n\r\n  // var link = document.createElement('link');\r\n  // link.rel = 'stylesheet';\r\n  // link.href = jsbin['static'] + '/css/font.css?' + jsbin.version;\r\n  // link.type = 'text/css';\r\n  // document.getElementsByTagName('head')[0].appendChild(link);\r\n\r\n  if (jsbin.embed) {\r\n    analytics.embed();\r\n  }\r\n\r\n});"]}